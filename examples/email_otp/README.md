# Example: `email OTP` backend auth flow

This example shows the backend email OTP verification flow that uses the new [init_otp](https://docs.turnkey.com/api-reference/activities/init-generic-otp), [verify_otp](https://docs.turnkey.com/api-reference/activities/verify-generic-otp) and [otp_login](https://docs.turnkey.com/api-reference/activities/login-with-otp) endpoints.

**Notes:**
- This example mocks a client-side public key generated by the user to demo the `otpLogin` returned jwt user session.
- These are all activities that should be initiated by the parent organization key, the specific organization id is targeted within the `otp_login` activity. For details, check out our [documentation](https://docs.turnkey.com/authentication/email#user-experience). 

### 1/ Setting up Turnkey

The first step is to set up your Turnkey organization and account. By following the [Quickstart](https://docs.turnkey.com/getting-started/quickstart) guide, you should have:

- A public/private API key pair for Turnkey parent organization
- A parent organization ID
- A sub-organization ID
- An email address to receive the OTP

### 2/ Running the script

```bash
cd go-sdk/examples/email_otp

# Run the script with your credentials
go run main.go -api-private-key "your_api_private_key" -parent-org-id "parent_org_id" -sub-org-id "sub_org_id" -email "user@example.com"
```

The script will do the following:
- Send the OTP code to the specified email address
- Wait for you to input the OTP code
- Verify the OTP code and generate the verification token
- Login into a suborganization using the verification token, client side API key and issue the user session jwt 